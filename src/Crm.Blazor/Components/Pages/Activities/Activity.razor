@page "/activities"

@using Blazorise
@using Crm.Activities
@using Crm.Blazor.Components.Dialogs.Activities

@inject IActivityAppService ActivityAppService

<Container>
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="text-center">Timeline</h3>
        <Button Color="Color.Success">Add Activity</Button>
    </div>

    <div class="timeline">
        @for (int i = 0; i < activityList.Count; i++)
        {
            var activity = activityList[i];
            var isLeft = i % 2 == 0;
            <div class="timeline-item @(isLeft ? "left" : "right")">
                <div class="timeline-date">@activity.Date.ToString("dd")<br>@activity.Date.ToString("MMM")</div>
                <div class="timeline-content">
                    <h5 style="font-weight: bold; font-size: 16px; display: flex; justify-content: space-between;">
                        <span style="color: black">@activity.Type</span>
                        <span style="color: dodgerblue">@activity.Date.ToString("HH:mm")</span>
                    </h5>
                    <p>@activity.Description</p>
                    <Button Color="Color.Primary" Clicked="@(() => ShowEditModal(activity))">Read more</Button>
                </div>
            </div>
        }
    </div>
</Container>

